<?xml version="1.0"?>
<launch>
  <!-- Command Line Arguments -->
  <arg name="robot_ns" default="robot_0"/>

  <!-- Default value for location of map config file -->
  <arg name="map_file" default="$(find robot_navigation)/maps/mymap.yaml"/>

  <!-- Map Server -->
  <node pkg="map_server" name="map_server" type="map_server" args="$(arg map_file)"/>

  <node pkg="tf" type="static_transform_publisher" name="laser_broadcaster1" 
      args="0 0 0 3.14 0 0 map base_link 50" />

  <node pkg="tf" type="static_transform_publisher" name="laser_broadcaster1" 
      args="0 0 0 3.14 0 0 base_link base_scan 50" />


  <!-- AMCL -->
  <!-- <include file="$(find robot_navigation)/launch/amcl_namespace.launch">
    <arg name="robot_ns" value="$(arg robot_ns)" />
  </include> -->

  <node pkg="amcl" type="amcl" name="amcl" output="screen">
    <rosparam file="$(find robot_navigation)/params/amcl_params.yaml" command="load"/>

    <param name="odom_frame_id"  value="odom"/>
    <param name="base_frame_id"  value="base_scan"/>
    <remap from="scan"           to="scan"/>
    <param name="global_frame_id" value="map"/>

    <!-- Use the single map server -->
    <remap from="static_map" to="/static_map"/>
    
  </node>

  <!-- Move Base
  <include file="$(find robot_navigation)/launch/move_base_namespace.launch">
    <arg name="robot_ns" value="$(arg robot_ns)" />
  </include> -->

</launch>